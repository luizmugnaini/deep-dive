\section{Free Groups}

\begin{definition}[Groups and generators]
\label{def:group-generated}
Let \(S\) be a set and \(G\) be a group. If every element of \(G\) can be
written as the product of finitely many powers of the elements of \(S\), then we
say that \(G\) is generated by \(S\), and the elements \(s \in S\) are called
generators of \(G\). Moreover, if \(S\) is finite, we naturally say that \(G\)
is finitely generated. Sometimes we denote this by \(G = \langle S \rangle\).
On the other hand, if \(\varphi: S \to G\) is a set-function, \(G\) is said to
be generated by \(\varphi\) if the image \(\im \varphi\) generates the group
\(G\).
\end{definition}

Let \(S\) be a set. We define the category \(\cat C\) as composed of objects
that are set-functions \(f: S \to G\), denoted \((f, G) \in \cat C\), where \(G
\in \Grp\). Given another object \((g, H) \in \cat C\), a morphism between \(f
\to g\) is a morphisms of groups \(\phi: G \to H\) such that the following
diagram commutes
\[
  \begin{tikzcd}
    &S \ar[dr, "g"] \ar[dl, swap, "f"] & \\
    G \ar[rr, "\phi"] & &H
  \end{tikzcd}
\]

\begin{proposition}[Free group universal property]
\label{prop:free-group-universal-property}
Given a set \(S\) we define the free group of \(S\) to be the initial object
\((\iota, F(S))\) in the category \(\cat C\) defined above. In other words,
\(F(S)\) is said to be the free group of \(S\) if there exists a set-functions
\(\iota\) such that for all \((f, G) \in \cat C\) there exists a unique morphism
\(f \to \iota\) given by a morphism of groups \(\phi: F(S) \to G\) such that the
diagram commutes
\[
  \begin{tikzcd}
    S \ar[d, swap, hook, "\iota"] \ar[r, "f"] & G \\
    F(S) \ar[ur, dashed, bend right, swap, "\phi"] &
  \end{tikzcd}
\]
\end{proposition}

Although we defined the universal property of free groups, there is still no
certainty that such objects shall in fact exist. We now proceed by proving that
any set has a corresponding free group --- which is unique up to isomorphism. To
do that, we first prove the following lemma.

\begin{lemma}\label{lem:isomorphism-indexing-set-group}
Let \(G\) be a group generated by the set-function \(f: S \to G\), where
\(S\) is a set. Then there exists an indexing set \(I\) and a collection of
indexed groups \(\{G_i\}_{i \in I}\) for which there exists \(i \in I\) such
that \(G \iso G_i\).
\end{lemma}

\begin{proof} Since \(G = \left\langle \im f \right\rangle\) then, if \(S\) is a
finite set, it follows \(\im f\) is also finite, hence \(G\) is either finite or
enumerably infinite, since every element of \(G\) is given by a finite product
of elements in \(\im f\) and their inverses. On the other hand, if \(S\) is
infinite, then \(\im f\) can be either finite or infinite, on both of these
cases we find that \(G\) can be either finite or infinite --- that is, in both
of these cases we have \(|G| \leq |S|\).

Define \(X\) to be an infinitely enumerable set if \(S\) is finite, on the other
hand, if \(S\) is infinite, let \(|X| = |S|\). Let \(A \subseteq X\) be
non-empty and define \(\Gamma(A)\) to be the collection of binary operations
\(\gamma: A \times A \to A\) such that \((A, \gamma)\) is a group. Define
\(\mathcal{A} = \{(A, \gamma): A \subseteq X, \gamma \in \Gamma(A)\}\), the
collection of groups on subsets of the set \(X\).

We now show that \(\mathcal{A}\) satisfies the proposition. The set \(X\) is
defined so that every possible product of elements of \(S\) can be injectively
assigned to an element of \(X\), that is, for every collection \(B\) of finite
sequences of elements of \(S\), there exists an injective set-function \(i: B
\mono X\). Since \(\left\langle \im f \right\rangle\) can be seen set-wise as a
collection of finite sequences of elements of \(S\), then there exists a
bijection \(j: \left\langle \im f \right\rangle \isoto B\) --- for some \(B\) as
defined above. Since there exists an injection \(i: B \mono X\), the induced map
\(i: B \isoto \im i \subseteq X\) is a bijection and hence the composition \(ij:
\left\langle \im f \right\rangle \isoto \im i\) is also bijective. Then, given
\(\gamma \in \Gamma(\im i)\) the group \((\im i, \gamma)\) is isomorphic to
\(\left\langle \im f \right\rangle = G\).
\end{proof}

\begin{proposition}[Every set has a unique free group]
\label{prop:universal-free-group}
Let \(S\) be any set. Then there exists a free group \((\iota, F(S))\), unique
up to isomorphism, such that \(F = \left\langle \im \iota \right\rangle\) and
\(\iota\) is injective.
\end{proposition}

\begin{proof}
Let \(I\) be an indexing set and \(\{G_{i}\}_{i \in I}\) be an indexed
collection of groups. Define
\[
  F_0 = \prod_{i \in I} \prod_{\ell \in \Hom_{\Set}(S, G_i)} G_i \times \{\ell\},
\]
and consider the set-function \(\iota_0: S \to F_0\) defined by mapping the
elements \(s \in S\) to a tuple of pairs whose \(j\)-th component would be
\((\ell_j(s), \ell_j) \in \prod_{\ell \in \Hom_{\Set}(S, G_j)} G_j \times
\{\ell\}\).

Consider \(G\) to be a group and let \(g: S \to G\) generate \(G\). From
\cref{lem:isomorphism-indexing-set-group} we find that there exists a group
\(G_j \in \{G_{i}\}_{i \in I}\) such that there is an isomorphism \(\phi: G
\isoto G_{j}\). Moreover, the set-function \(\psi = \phi g: S \to G_j\) is an
element of \(\bigcup_{i \in I} \Hom_{\Set}(S, G_i)\). Define the projection map
\(\pi_{j, \psi}: F_0 \epi G_j \times \{\psi\}\). We can now define a map
\(\psi_{*} = \phi^{-1} \pi_{j, \psi}: F_0 \to G\) such that the following
diagram commutes
\[
  \begin{tikzcd}
    S \ar[rr, "\iota_0"] \ar[d, swap, "g"]
      & &F_0 \ar[d, two heads, "\pi_{j, \psi}"]
    \ar[dll, swap, "\psi_{*}"] \\
    G \ar[rr, swap, "\phi", "\iso"'] & &G_j \times \{\psi\}
  \end{tikzcd}
\]

Define the subgroup \(F = \left\langle \im \iota_{0} \right\rangle\) of \(F_0\)
and let \(\iota: S \to F\) be the set-function mapping \(\iota(s) =
\iota_0(s)\). Also, let \(g_{*}: F \to G\) be the restriction \(g_{*} =
\psi_{*}|_{F} = \phi^{-1} \pi_{j, \psi}|_{F}\) --- which immediatly implies in
the uniqueness of \(g_{*}\). Summarizing, we may view this construction as the
following diagram
\[
  \begin{tikzcd}
    S \ar[r, hook, "\iota"] \ar[d, swap, "g"] &F \ar[dl, dashed, "g_{*}"] \\
    G &
  \end{tikzcd}
\]
We see that \((\iota, F)\) satisfies \cref{prop:free-group-universal-property}
and thus is a free group of \(S\). Moreover, since the construction works with
no restriction on the choice of group \(G\) and set-function \(g\), given any
\(s, s' \in S\) distinct elements, define \(G = \langle s, s' \rangle\) and let
\(g: S \to G\) be any set-function such that \(g(s) = s\) and \(g(s') = s'\). We
see that for the diagram to commute, it is necessary that \(\iota(s) \neq
\iota(s')\), otherwise \(g\) would not be equal to the composition \(g_{*}
\iota\). This shows that for any two distict elements of \(S\), their image
under \(\iota\) is also distinct --- that is, \(\iota\) is injective on \(S\),
which proves the last assertion of the proposition.
\end{proof}

\begin{corollary}\label{cor:free-group-unique-iso}
Given a set \(S\), its corresponding free group is unique up to isomorphism.
\end{corollary}

\begin{proof}
It suffices to see that if \(F\) is a free group of \(S\), then it is the
initial object of the category \(\mathcal C\), we defined above. From this, we
can use \cref{prop:initial-final-unique} to obtain the immediate conclusion that
\(F\) is unique up to isomorphism in \(\mathcal C\).
\end{proof}


Notice since every set has a corresponding free group via the latter theorem, we
can view the free group as a covariant functor \(F: \Set \to \Grp\) such that
\(F(X)\) is the free group of \(X \in \Set\) --- which is unique up to
isomorphism --- and, given a set-function \(\phi: X \to Y\) between sets \(X\)
and \(Y\), we assign \(F(f) = \phi_{*}: F(X) \to F(Y)\). This whole construction
is such that the following diagram commutes
\begin{equation}\label{eq:free-functor}
  \begin{tikzcd}
    X \ar[r, "\iota_X"] \ar[d, swap, "\phi"] \ar[dr]
    &F(X) \ar[d, "\phi_{*}"] \\
    Y \ar[r, swap, "\iota_Y"] &F(Y)
  \end{tikzcd}
\end{equation}
In the above diagram we see that \(F(X)\) is the free group of \(X\) generated
by the image of set-function \(\iota_X\), which induces an injection of the
set-elements of \(X\) into a group structure. These elements are called the free
generators of \(F(X)\). The same remark is true for \(F(Y)\). Moreover, the
functor \(F\) preserves injectivity and surjectivity of the maps \(\phi\), which
is stated in the following lemma.

\begin{lemma}\label{lem:free-func-preserves-inj-sur}
If the map \(\phi: X \to Y\) is a surjective (or injective) set-function, then
\(\phi_{*}: F(X) \to F(Y)\) is a surjective (or injective) morphism of groups.
\end{lemma}

\begin{proof}
From \cref{eq:free-functor} we have \(\phi_{*} \iota_{X} = \iota_{Y} \phi\),
hence, given any element \(\gamma \in \im \iota_{Y} \subseteq F(Y)\), there
exists \(x \in X\) for which \(\iota_{Y} \phi(x) = \gamma\) --- which is true
only because \(\phi\) is surjective --- thus \(\phi_{*} \iota_X(x) = \gamma\).
Since \(F(Y) = \langle \im \iota_Y \rangle\), it follows that, for any given
element \(\gamma \in F(Y)\), there exists a finite sequence of elements
\((\gamma_j)_{j=1}^n\) with \(\gamma_j \in \im \iota_Y\) for which \(\gamma =
\prod_{j=1}^n \gamma_j\). From the fact that \(\gamma_{j} \in \im \iota_Y\), we
are able to a corresponding sequence \((x_j)_{j=1}^n\) of elements \(x_j \in X\)
such that \(\iota_{Y} \phi(x_j) = \gamma_j\) for each \(1 \leq j \leq n\) ---
which is always possible since \(\gamma_j \in \im \iota_Y\). Then we obtain
\[
  \phi_{*}\left( \prod_{j=1}^n \chi_j \right) = \prod_{j=1}^n \phi_{*}(\chi_j)
  = \prod_{j=1}^n \gamma_j = \gamma
\]
and therefore \(\prod_{j=1}^n \chi_j \in \phi_{*}^{-1}(\gamma)\), which proves
that \(\phi_{*}\) is surjective.

Now we prove the second part of the lemma, let \(\phi: X \mono Y\) be
injective. Given distinct elements \(a, b \in X\), since \(\iota_X\) and
\(\iota_Y\) are injective, then \(\iota_{Y} \phi(a) \neq \iota_Y \phi(b)\) and
thus \(\phi_{*}\iota_X(a) \neq \phi_{*}\iota_X(b)\) --- that is, \(\phi_{*}\) is
injective on the set \(\im \iota_X\) and since \(\phi_{*}\) is a morphism of
groups and multiplication is preserved, it follows that \(\phi_{*}\) is in fact
injective in \(\langle \im \iota_X \rangle = F(X)\). Thus \(\phi_{*}\) is
injective.
\end{proof}

\begin{proposition}\label{prop:iso-free-grp}
If the cardinality of the sets \(X\) and \(Y\) are equal, the free groups
\(F(X)\) and \(F(Y)\) are isomorphic.
\end{proposition}

\begin{proof}
Notice that if \(|X| = |Y|\) then there exists a bijection \(f: X \to Y\)
between such sets. From \cref{lem:free-func-preserves-inj-sur} we see that the
induced morphism of groups \(f_{*}: F(X) \to F(Y)\) is both injective and
surjective --- thus bijective. Since bijections are isomorphisms in \(\Grp\), it
follows tha \(F(X) \iso F(Y)\).
\end{proof}

\begin{proposition}[Canonical factorization]
\label{prop:free-group-factorization}
Every group is the image of a morphism on a free group. That is, given a group
\(G\), there exists a canonical surjective morphism of groups \(F \epi G\)
such that \(F\) is a free group.
\end{proposition}

\begin{proof}
Let \(S = \{g \in G\}\) be a set and consider the identity set-function \(f: S \to
G\). The induced group morphism \(f_{*}: F(S) \to G\) is simply a projection,
stablishing a surjection between \(F(S)\) and \(G\) and hence \(f_{*}(F(S)) =
G\).
\end{proof}

Our construction of free groups got rather abstract and avoided any concrete
identification of the elements of a free group --- the intention being of
creating the most general setting possible. In fact, our construction is
equivalent to that of the standard notion regarding the free group \(F(S)\) as
composed of finite strings of elements of a set \(S\) together with their
inverses --- forming the so called ``\emph{words}''. This idea boils down to the
concept of the elements of \(S\) being \emph{generators} of the free group
\(F(S)\), while the collection of elements of \(F(S)\) itself are the
\emph{relations} between the generator elements --- which provide the structure
of a group to \(F(S)\). In that view, we define the following concept.

\begin{definition}[Groups from generators and relations]
\label{def:grp-determined-generators-relations}
Let \(S\) be a set and \(R \subseteq F(S)\) be any subset of the elements of the
free group. Let \(N\) be the smallest subgroup of \(F(S)\) containing
\(R\). Then we define \(F(S)/N\) to be the group determined by the generators
\(S\) and the relations \(R\).
\end{definition}

\subsection{Coproducts in \texorpdfstring{\(\Grp\)}{Grp}}

We now get back to the idea of constructing coproducts, not only in \(\Ab\), but
also in \(\Grp\). We exemplified, in the infamous example coming from
\cref{rem:coprod-grp}, that such construction doesn't come trivially without
the requirement of commutativity. Now we are ready for the construction of
coproducts in \(\Grp\), which will be supported by the ideas developed on free
groups.

\begin{proposition}
\label{prop:coprod-grp}
The category of groups \(\Grp\) has coproducts.
\end{proposition}

\begin{proof}
Let \(J\) be an indexing set for which there exists a corresponding indexed
collection of groups \(\{G_{j}\}_{j \in J}\). Similarly, let \(\{S_{j}\}_{j \in J}\)
be a collection of sets for which \(S_j = G_j\) if \(G_j\) is an infinite group,
otherwise, if \(G_j\) happens to be finite, we let \(S_j\) be any infinitely
enumerable set (for instance, \(\N\)). We define now \(S\) to be any set such
that \(|S| = |\coprod_{j \in J} S_{j}|\).

Define \(\Gamma\) as the collection of all binary operation \(\gamma: S \times S
\to S\) for which the pair \((S, \gamma)\) is a group --- which we'll shortly
denote by \(S_{\gamma}\). For each relation \(\gamma \in \Gamma\), define the
collection
\[
  \Phi_{\gamma} =
  \{\phi = \{\varphi_{j} \in \Hom_{\Grp}(G_j, S_\gamma) : j \in J\}\},
\]
that is, the collection composed of elements \(\phi\) which are themselves
collections of group morphisms \(G_j \to S_\gamma\) for each \(j \in J\). For
each \(\phi \in \Phi_{\gamma}\), the product \(S_{\gamma} \times \{\phi\}\) is a
group with the operation defined as \(\gamma^{*}((x, \phi), (y, \phi)) =
(\gamma(x, y), \phi)\).

Now we construct a group \(F_0\) defined as
\[
  F_0 = \prod_{\gamma \in \Gamma}
  \prod_{\phi \in \Phi_{\gamma}} S_{\gamma} \times \{\phi\},
\]
which has a binary operation \(F_0 \times F_0 \to F_0\) which is defined
naturally as applying \(\gamma^{*}\) to the corresponding \(S_{\gamma} \times
\{\phi\}\) factor of the tuples.

Notice that we carried over the collection \(\phi\) to be able to relate \(F_0\)
to the groups \(\{G_{j}\}_{j \in J}\) that we started with --- to realize that,
define the collection of morphisms
\[
  I = \{\iota_{j} \in \Hom_{\Grp}(G_j, F_0) : j \in J\},
\]
such that the mapping \(\iota_j\) is defined by mapping elements \(g \in G_j\)
to the tuple of \(F_0\) whose \(S_{\gamma} \times \{\phi\}\) factor is given by
\((\varphi_j(g), \phi)\) --- recall that \(\varphi_j \in \phi\) is a morphism of
groups \(\varphi_j: G_j \to S_{\gamma}\). So far, what we have is the following
scenario
\[
  \begin{tikzcd}
    G_j \ar[r, "\iota_j"] \ar[rd, bend right, swap, "\varphi_j"] &F_0 \\
    &S_\gamma
  \end{tikzcd}
\]
We set out to construct a group that would satisfy the coproduct universal
property. We need to somehow modify both groups \(F_0\) and \(S_{\gamma}\) so
that we have a unique arrow for any choice of a group \(G\) in place of
\(S_{\gamma}\).

We start out by letting \(G\) be any group and considering the collection
\[
  \Psi = \{\psi_{j} \in \Hom_{\Grp}(G_j, G) : j \in J\},
\]
with the purpose of replacing both \(S_{\gamma}\) and \(\phi\),
respectively. Let \(H \subseteq G\) be the subgroup of \(G\) generated by the
images the morphisms of \(\Psi\) --- that is, \(H = \langle \bigcup_{j \in J}
\im \psi_j \rangle\). It is natural to see that since \(H\) can be interpreted
as the group whose elements are finite product of elements from \(\{G_{j}\}_{j
\in J}\) --- and some of those can even be finite groups ---, then \(|H| \leq
|S|\), since the latter was constructed so that \(S\) had a cardinality bigger
than or equal to the set-theoretic coproduct \(\coprod_{j \in J} G_j\). From
\cref{lem:isomorphism-indexing-set-group} we find that there exists \(S_{\gamma}
\in \{S_{\gamma}\}_{\gamma \in \Gamma}\) and an isomorphism of groups \(\eta:
S_{\gamma} \isoto H\).

Let \(i: H \emb G\) be the canonical inclusion sending \(H \ni g \mapsto g \in
G\). Let \(\phi \in \Phi_{\gamma}\) be the collection of morphisms such that \(i
\eta \varphi_j = \psi_j\), that is, the following diagram commutes for all \(j
\in J\)
\begin{equation*}
\label{eq:commutative-varphi-eta}
  \begin{tikzcd}
    G_j \ar[r, "\psi_j"] \ar[d, swap, "\varphi_j"] &G \\
    S_{\gamma} \ar[r, "\eta"', "\sim"] &H \ar[u, hook', swap, "i"]
  \end{tikzcd}
\end{equation*}
Define \(p_{(\gamma, \phi)}: F_0 \epi S_{\gamma}\) to be a projection mapping
the \((s, \phi) \in S_{\gamma} \times \{\phi\}\) factor into \(s \in
S_{\gamma}\). Define \(\psi_{*}: F_0 \to G\) to be the morphism of groups such
that the following diagram commutes
\begin{equation*}
\label{eq:commutative-psi-eta}
  \begin{tikzcd}
    F_0 \ar[d, two heads, swap, "p_{(\gamma, \phi)}"] \ar[r, "\psi_{*}"] &G \\
    S_{\gamma} \ar[r, "\sim", "\eta"'] &H \ar[u, hook', "i"']
  \end{tikzcd}
\end{equation*}

Notice that, by \cref{eq:commutative-varphi-eta}, we obtain --- for all \(g \in
G_j\)
\[
  i \eta p_{(\gamma, \phi)} \iota_j(g)
  = i \eta p_{(\gamma, \phi)}((\dots, (\varphi_j(g), \phi), \dots))
  = i \eta \varphi_j(g)
  = \psi_j(g)
\]
But, from \cref{eq:commutative-psi-eta}, since \(i \eta p_{(\gamma, \phi)} =
\psi_{*}\), then we conclude that \(\psi_{*} \iota_j = \psi_j\), that is, the
following diagram commutes
\[
  \begin{tikzcd}
    G_j \ar[r, "\iota_j"] \ar[dr, bend right, swap, "\psi_j"]
      &F_0 \ar[d, "\psi_{*}"] \\
    &G
  \end{tikzcd}
\]

Let \(F \subseteq F_0\) be the subgroup \(F = \langle \bigcup_{j \in J} \im
\iota_j \rangle\). Then, if we consider the restriction \(\psi_{*}: F \to G\),
the morphism \(\psi_{*}\) is now uniquely defined by the collection of morphisms
\(\psi\), that is, the diagram
\[
  \begin{tikzcd}
    G_j \ar[r, "\iota_j"] \ar[dr, bend right, swap, "\psi_j"]
    &F \ar[d, dashed, "\psi_{*}"] \\
    &G
  \end{tikzcd}
\]
commutes for every \(j \in J\) --- hence \(F\) is the coproduct in the category
of groups.
\end{proof}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../deep-dive"
%%% End:
