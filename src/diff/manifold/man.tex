\section{Differentiable Manifolds}

\subsection{Charts \& Atlases}

\begin{definition}[Atlas]
\label{def:Cp-atlas}
Let \(X\) be an \(n\)-dimensional topological manifold. An \emph{atlas} of class
\(C^p\) on \(X\) is a collection of charts \(\{(U_j, \phi_j)\}_{j \in J}\) such
that
\begin{enumerate}[(a)]\setlength\itemsep{0em}
\item For all \(j \in J\), \(U_j \subseteq X\) is an open set, and
  the collection \(\{U_j\}_{j \in J}\) is an \emph{open cover} for \(X\).

\item For every \(j \in J\), \(\phi_j: U_j \to V_j\) is a \emph{topological
  isomorphism} from the open set \(U_j \subseteq X\) to an open set \(V_j
  \subseteq R^n\).

\item For each pair \(i, j \in J\), the induced \emph{change of coordinates} map
  \[
  \phi_j \phi_i^{-1}: \phi_i(U_i \cap U_j) \isoto \phi_j(U_i \cap U_j)
  \]
  is of class \(C^p\) --- that is, every chart of the atlas with intersecting
  domain is \emph{compatible}.
\end{enumerate}
\end{definition}

\begin{definition}[Chart \& atlas compatibility]
\label{def:compatible-chart}
Let \(X\) be a topological \(n\)-manifold. If \((U, \phi: U \isoto V)\) and
\((U', \psi: U' \isoto V')\) are \emph{charts} on \(X\), we say that they are
\emph{\(C^p\)-compatible} if the two induced transition maps
\[
\phi \psi^{-1}: \psi(U \cap U') \longrightarrow \phi(U \cap U')
\quad\text{ and }\quad
\psi \phi^{-1}: \phi(U \cap U') \longrightarrow \psi(U \cap U')
\]
are of class \(C^p\).

From this definition, we say that a chart is said to be compatible with a given
atlas if it is compatible with every chart of the atlas.  Moreover, given two
atlases, we say that they are compatible if every chart of one is compatible
with the other atlas.
\end{definition}

\begin{lemma}
\label{lem:compatible-charts-with-atlas-are-compatible}
Let \(\mathcal{A} \coloneq \{(U_j, \phi_j)\}_{j \in J}\) be an atlas on a
topological manifold \(X\). If both \((V, \psi)\) and \((W, \sigma)\) are charts
of \(X\) compatible with the atlas \(\mathcal{A}\), then they are compatible
with each other.
\end{lemma}

\begin{proof}
Let \(p \in V \cap W\) be any point and let \(j \in J\) be such that
\(p \in U_j\) --- thus \(p \in V \cap W \cap U_j\). Since \(\phi_j \psi^{-1}\)
and \(\sigma \phi_j^{-1}\) are \(C^p\) maps, then
\(\sigma \psi = (\sigma \phi_j^{-1}) \circ (\phi_j \psi^{-1})\) is \(C^p\) when
restricted to \(\psi(V \cap W \cap U_j)\). Moreover, since
\(\psi(p) \in \psi(V \cap W \cap U_j)\), it follows that \(\sigma \psi\) is
\(C^p\) on \(\psi(p)\) --- therefore \(\sigma \psi\) is \(C^p\) on every point
of its domain since \(p\) was chosen arbitrarily. The same analogous argument
can be used to show that \(\psi \sigma^{-1}\) is \(C^p\).
\end{proof}

\begin{proposition}
\label{prop:compatible-atlas-equivalence-relation}
The compatibility of atlases form an \emph{equivalence} relation.
\end{proposition}

\begin{proof}
Clearly reflexivity and symmetry are satisfied. Let
\(\mathcal{U} \coloneq \{(U_{j}, \phi_j)\}_{j \in J}\) and
\(\mathcal{V} \coloneq \{(V_{i}, \psi_i)\}_{i \in I}\) be two compatible atlases
for some topological manifold \(X\). If
\(\mathcal{A} \coloneq \{(A_{s}, \mu_s)\}_{s \in S}\) is another atlas for
\(X\), which happens to be compatible to \(\mathcal{U}\), then for every
\(s \in S\) the maps \(\phi_j \mu_{s}^{-1}\) and \(\mu_s \phi_j^{-1}\)
are of class \(C^p\) for any \(j \in J\). Since \(\phi_j \psi_i^{-1}\) and
\(\psi_i \phi_j^{-1}\) are \(C^p\) for all \(i \in I\), then in particular
\[
\mu_s \psi_i^{-1} = (\mu_s \phi_j^{-1}) \circ (\phi_j \psi_i^{-1})
\quad\text{ and }\quad
\psi_i \mu_s^{-1} = (\psi_i \phi_j^{-1}) \circ (\phi_j \mu_s^{-1})
\]
are both maps of class \(C^p\). Therefore we conclude that \(\mathcal{A}\) is
compatible with \(\mathcal{V}\).
\end{proof}

\begin{corollary}
\label{cor:unique-maximal-atlas}
Any atlas on a topological manifold is contained in a \emph{unique maximal
  atlas} --- an atlas is said to be maximal if it isn't contained in any atlas
other than itself.
\end{corollary}

\subsection{\texorpdfstring{\(C^p\)}{Cp}-Manifolds}

\subsubsection{Classical Definition}

In this chapter we shall mostly consider the case of \(C^{\infty}\)-manifolds,
also called \emph{smooth} manifolds, but for generality we'll define
differentiable manifolds for all \(p \in \N \cup \{\infty\}\).

\begin{definition}[\(C^p\)-manifold structure on \(X\)]
\label{def:Cp-manifold}
The equivalence classes of atlases of class \(C^p\) on a topological space \(X\)
define what is called a \emph{\(C^p\)-manifold structure on} \(X\).
\end{definition}

\subsubsection{Alternative Definition}

We now give another definition of a \(C^p\)-manifold structure on topological
spaces, to do that, we first introduce the following concept.

\begin{definition}[Functionally structured space]
\label{def:functionally-structured-space}
Let \(X\) be a topological space. A \emph{functional structure} on \(X\) is a
map \(F_X\) on the collection of open sets of \(X\) such that, for any open set
\(U \subseteq X\), we have:
\begin{enumerate}[(a)]\setlength\itemsep{0em}
\item \(F_X(U)\) is a
  \emph{subalgebra} of \(C(U)\), the algebra of continuous real valued maps
  on \(U\).

\item \(F_X(U)\) contains all constant maps.

\item If \(V \subseteq U\) is another open set of \(X\), and \(f \in F_X(U)\),
  then \(f|_V \in F_X(V)\).

\item If \(U = \bigcup_{j \in J} U_j\), and \(f: U \to \R\) is a continuous map
  such that \(f|_{U_j} \in F_X(U_j)\) for each \(j \in J\), then it follows that
  \(f \in F_X(U)\).
\end{enumerate}
The pair \((X, F_X)\) is called a \emph{functionally structured space}.

Let \(U \subseteq X\) be open. For any open set \(V \subseteq U\) we define
\[
F_U(V) \coloneq F_X(V),
\]
and hence \((U, F_U)\) is a functionally structured space.
\end{definition}

\begin{definition}[Morphisms of functionally structured spaces]
\label{def:morphism-functionally-structured-spaces}
A morphism
\[
\phi: (X, F_X) \to (Y, F_Y)
\]
between functionally structured spaces is a map \(\phi: X \to Y\) such that, for
any open set \(V \subseteq Y\) and \(f \in F_Y(V)\), we have
\(f \phi \in F_X(\phi^{-1}(V))\).
\end{definition}

\begin{definition}[Second definition of a \(C^p\)-manifold]
\label{def:second-def-Cp-manifold}
An \(n\)-dimensional differentiable manifold is second countable functionally
structured Hausdorff space \((M, F)\) which is locally isomorphic to
\((\R^n, C^p)\).

The local isomorphism is equivalent to the requirement that, for each
point \(p \in M\), there exists a neighbourhood \(U \subseteq M\) of \(p\) such
that \((U, F_U) \iso (V, C_V^p)\) as functionally structured spaces --- for
some open set \(V \subseteq \R^n\).
\end{definition}

\begin{lemma}
\label{lem:morphism-func-struc-is-Cp}
Let \(U, V \subseteq R^n\) be open subspaces. An isomorphism between
functionally structured spaces
\[
\phi: (U, C_U^p) \isoto (V, C_V^p)
\]
is a map \(\phi: U \to V\) of class \(C^p\) if and only if \(f \phi \in C^p(U)\)
for all \(f \in C^p(V)\).
\end{lemma}

\begin{proof}
Clearly, if \(\phi: U \to V\) is of class \(C^p\) then \(f \phi\) is a
composition of \(C^p\) maps, thus \(f \phi \in C^p(U)\) for any \(f \in
C^p(V)\).

Conversely, if we have the hypothesis that \(f \phi \in C^p(U)\) for all
\(f \in C^p(V)\), one may consider the canonical projections
\(\pi_j: \R^n \epi \R\) and notice that \(\pi_j \phi \in C^p(U)\). Therefore
each component of \(\phi\) is a \(C^p(U)\) map, implying that \(\phi\) itself is
a \(C^p(U, V)\) map.
\end{proof}

\begin{lemma}[Equivalence of the definitions]
\label{lem:equivalence-def-Cp-man}
The constructions on \cref{def:Cp-manifold} and
\cref{def:second-def-Cp-manifold} are equivalent.
\end{lemma}

\begin{proof}
Let \((M, F)\) be a \(C^p\)-manifold in the sense of
\cref{def:second-def-Cp-manifold}. A chart on \(M\) will be interpreted as a
pair \((U, \phi: U \isoto V)\) such that \(\phi\) is an isomorphism
\((U, F) \iso (V, C_V^p)\) of functionally structured spaces. Since every point
of \(M\) has a neighbourhood from which one can define the above mentioned
isomorphism, we see that these charts do cover the whole space \(M\).

It remains to be proven that the transition maps are \(C^p\). From our
interpretation of chart, given any two charts
\(\phi: (U, F_U) \isoto (V, C_V^p)\) and
\(\psi: (U', F_{U'}) \isoto (V', C_{V'}^p)\) in \(M\), since \(\phi \psi^{-1}\)
and \(\psi \phi^{-1}\) are isomorphisms of functionally structured spaces
\((V, C_V^p)\) and \((V', C_{V'}^p)\) --- by \cref{lem:morphism-func-struc-is-Cp}
they are \(C^p\) maps. Therefore, our collection of charts match the
requirements of \cref{def:Cp-atlas}.

For the converse, let \(M\) be a \(C^p\)-manifold with an atlas
\(\mathcal{A}\). For every chart \((U, \phi: U \isoto V) \in \mathcal{A}\)
(where \(\phi\) is a topological morphism), define
\[
F(U) \coloneq \{f \phi \in C^{p}(U) \colon f \in C^p(V)\}.
\]
Let \(x \in M\) be any point and consider a chart \((U, \psi: U \isoto V)
\in \mathcal{A}\), where \(U \subseteq M\) is a neighbourhood of \(x\). Notice
that \(\phi\) naturally induces a morphism of functionally structured spaces
\(\phi: (U, F_U) \to (V, C_V^p)\) --- moreover, since \(\phi\) is a topological
isomorphism, then \(\phi\) is an isomorphism \((U, F_U) \iso (V, C_V^p)\).
\end{proof}


\subsection{Smooth Morphisms}

\subsubsection{Morphisms Between Manifolds}

\begin{remark}
\label{rem:manifolds-convention-are-smooth}
From now on, unless stated otherwise, all manifolds are assumed to be endowed
with a smooth structure.
\end{remark}

\begin{remark}[Chart notation]
\label{rem:chart-notation}
When convenient, a chart \((U, \phi: U \to V)\) shall simply be denoted by
\(\phi: U \to V\).
\end{remark}

\begin{definition}[Smooth map]
\label{def:smooth-map-between-manifolds}
Let \(M\) and \(N\) be smooth manifolds of dimension \(m\) and \(n\),
respectively. A \emph{continuous} map \(f: M \to N\) is said to be \emph{smooth
  at a point \(p \in M\)} if there exists a chart \((V, \psi)\) about \(f(p)\)
in \(N\), and a chart \((U, \phi)\) about \(p\) in \(M\) such that the map
\[
\psi f \phi^{-1}: \phi(f^{-1}(V) \cap U) \to \R^n,
\]
where \(\phi(f^{-1}(V) \cap U) \subseteq \R^m\), is smooth at
\(\phi(p)\). Naturally, \(f\) is said to be \emph{smooth} when \(f\) is smooth
at every point of \(M\).
\end{definition}

\begin{remark}
\label{rem:continuous-requirement-in-smooth-map-definition}
The requirement of continuity of \(f: M \to N\) in
\cref{def:smooth-map-between-manifolds} is necessary to ensure that
\(f^{-1}(V) \subseteq M\) is open.
\end{remark}

\begin{lemma}[Smooth maps are choice-independent]
\label{lem:smooth-maps-choice-independent}
Let \(f: M \to N\) be a smooth map at \(p \in M\) between smooth manifolds. If
\((U, \phi)\) is any chart about \(p\) in \(M\) and \((V, \psi)\) is any chart
about \(f(p)\) in \(N\), then the composition map \(\psi f \phi^{-1}\) is
\(C^{\infty}\) at \(\phi(p)\). Since both \(M\) and \(N\) are endowed with
\(C^{\infty}\) compatible charts, it follows that the transition maps
\(\phi_0 \phi^{-1}: \phi(U_0 \cap U) \to \phi_0(U_{0} \cap U)\) and
\(\psi \psi_0^{-1}: \psi_0(V_0 \cap V) \to \psi(V_0 \cap V)\) are both
\(C^{\infty}\) maps. Therefore the composition
\[
(\psi \psi_0^{-1}) \circ (\psi_0 f \phi_0^{-1}) \circ (\phi_0 \phi^{-1})
= \psi f \phi^{-1}: \phi(U_0 \cap U) \longrightarrow \R^n,
\]
where \(n\) is the dimension of \(N\), is a \(C^{\infty}\) map. Since \(p \in
U_0 \cap U\), then \(\psi f \phi^{-1}\) is \(C^{\infty}\) at \(\phi(p)\).
\end{lemma}

\begin{proof}
From the definition of smoothness, let \((U_0, \phi_0)\) be a chart about \(p\)
of \(M\) and \((V_0, \psi_0)\) be a chart about \(f(p)\) of \(N\) such that the
map \(\psi_0 f \phi_0^{-1}\) is \(C^{\infty}\) at \(\phi_0(p)\).
\end{proof}

\begin{proposition}
\label{prop:composition-smooth-maps-is-smooth}
The composition of smooth maps is smooth.
\end{proposition}

\begin{proof}
Let \(N\), \(M\) and \(W\) be any three manifolds, and consider two smooth maps
\(f: N \to M\) and \(g: M \to W\). Take any three charts \((U, \phi)\) of \(N\),
\((V, \psi)\) of \(M\), and \((E, \gamma)\) of \(W\). Notice that the
composition
\[
(\gamma g \psi^{-1}) \circ (\psi f \phi^{-1})
= \gamma (g f) \phi^{-1}: \phi(f^{-1}(V) \cap U)
\longrightarrow \R^w,
\]
where \(w\) is the dimension of \(W\), is a \(C^{\infty}\) map since both
\(\gamma g \psi^{-1}\) and \(\psi f \phi^{-1}\) are \(C^{\infty}\). Since the
charts where chosen arbitrarily, it follows that \(g f\) is a smooth map. Notice
that the last two conclusions came directly from
\cref{prop:equiv-conditions-for-smooth}.
\end{proof}

\subsubsection{Equivalent Conditions for Smoothness}

\begin{proposition}[Equivalent conditions for smoothness]
\label{prop:equiv-conditions-for-smooth}
Let \(f: N \to M\) be a continuous map between manifolds \(N\) and \(M\), with
respective dimensions \(n\) and \(m\). The following properties are equivalent:
\begin{enumerate}[(a)]\setlength\itemsep{0em}
\item The continuous map \(f: N \to M\) is a smooth map.

\item There exists atlases \(\mathcal{N}\) for \(N\) and \(\mathcal{M}\) for
  \(M\) such that, for every chart \((U, \phi) \in \mathcal{N}\) and
  \((V, \psi) \in \mathcal{M}\), the composition
  \[
  \psi f \phi^{-1}: \phi(f^{-1}(V) \cap U) \to \R^m
  \]
  is a \(C^{\infty}\) map.

\item For all pairs of charts \((U, \phi)\) on \(N\) and \((V, \psi)\) on \(M\),
  the composition
  \[
  \psi f \phi^{-1}: (f^{-1}(V) \cap U) \to  \R^m
  \]
  is a \(C^{\infty}\) map.
\end{enumerate}
\end{proposition}

\begin{proof}
\begin{itemize}\setlength\itemsep{0em}
\item (a) \(\implies\) (c): Consider any pair of charts \((U, \phi)\) on \(N\)
  and \((V, \psi)\) on \(M\) for which \(f^{-1}(V) \cap U\) is non-empty. Take
  any \(p \in f^{-1}(V) \cap U\). Since \(f\) is \(C^{\infty}\), it follows that
  the composition \(\psi f \phi^{-1}\) is \(C^{\infty}\) at \(\phi(p)\) --- thus
  smooth for any point of its domain.

\item (c) \(\implies\) (b): It suffices to choose atlases with \(C^{\infty}\)
  compatible charts for \(N\) and \(M\).

\item (b) \(\implies\) (a): If \(p \in N\) is any point, choose a chart \((U,
  \phi)\) about \(p\) and \((V, \psi)\) about \(f(p)\). Property (b) ensures
  that the composition \(\psi f \phi^{-1}\) is, in particular, continuous at
  \(\phi(p)\), since \(p \in f^{-1}(V) \cap U\).
\end{itemize}
\end{proof}

\begin{corollary}
\label{cor:equiv-smooth-vec-val-map}
Let \(M\) be an \(n\)-manifold and \(f: M \to \R^d\) be a continuous map. The
following properties are equivalent:
\begin{enumerate}[(a)]\setlength\itemsep{0em}
\item The map \(f: M \to \R^d\) is a \(C^{\infty}\)-morphism.

\item The manifold \(M\) is endowed with an atlas such that, for every chart
  \(\phi: U \to V\) of \(M\), the map \(f \phi^{-1}: \phi(U) \to \R^d\) is a map
  of class \(C^{\infty}\), where \(V \subseteq \R^n\).

\item For all charts \(\phi: U \to V\) of \(M\), the map \(f \phi^{-1}: \phi(U)
  \to \R^d\) is of class \(C^{\infty}\), where \(V \subseteq \R^n\).
\end{enumerate}
\end{corollary}

\begin{proof}
The whole proposition is simply a particular case of
\cref{lem:equiv-smooth-map-definition}.
\end{proof}

\begin{proposition}[Smoothness from projections]
\label{prop:smoothness-from-components}
Let \(M\) be an \(n\)-manifold. A map \(f: M \to \R^d\) is a smooth map if and
only if its projections \(f_j: M \to \R\), for all \(1 \leq j \leq d\), are
smooth maps.
\end{proposition}

\begin{proof}
From definition, \(f\) is a smooth map if and only if, for each chart \(\phi: U
\to V\) of \(M\), the map \(f \phi^{-1}: V \to \R^d\) is of class
\(C^{\infty}\). Moreover, from the definition of continuity on real spaces, we
find that \(f \phi^{-1}\) is \(C^{\infty}\) if and only if \(f_j \phi^{-1}\) is
\(C^{\infty}\) for all \(1 \leq j \leq d\).
\end{proof}

\begin{proposition}
\label{prop:smooth-morphisms-from-real-maps}
Let \(f: N \to M\) be a continuous map between two manifolds of dimensions \(n\)
and \(m\), respectively. The following properties are equivalent:
\begin{enumerate}[(a)]\setlength\itemsep{0em}
\item The map \(f: N \to M\) is a \(C^{\infty}\)-morphism.

\item The manifold \(M\) is endowed with an atlas such that, for all charts
  \((V, \psi)\) of \(M\), the map \(\psi f: f^{-1}(V) \to \R^m\) is a
  \(C^{\infty}\)-morphism.

\item For every chart \((V, \psi)\) of \(M\), the map \(\psi f: f^{-1}(V) \to
  \R^m\) is a \(C^{\infty}\)-morphism.
\end{enumerate}
\end{proposition}

\begin{proof}
(b) \(\implies\) (a): Together with the atlas of \(M\), the continuous map \(f\)
induces a structure on \(N\) as follows. For each chart \((V, \psi)\) of \(M\),
construct a collection \(\mathcal{F}_V\): for every chart \((U, \phi)\) in the
atlas of \(N\), define a chart \((U \cap f^{-1}(V), \phi|_{U \cap f^{-1}(V)})\)
--- define \(\mathcal{F}_V\) to be the collection of all such chart. Then
\(\mathcal{F}_V\) is a smooth atlas for \(f^{-1}(V) \subseteq N\). From (b) we
know that \(\psi f: f^{-1}(V) \to \R^m\) is of class \(C^{\infty}\), then by
\cref{cor:equiv-smooth-vec-val-map} we have that the map
\(\psi f \phi^{-1}: \phi(U \cap F^{-1}(V)) \to \R^m\) is of class
\(C^{\infty}\). Now by \cref{prop:equiv-conditions-for-smooth} we obtain that
\(f\) is a smooth morphism.

(a) \(\implies\) (c): Coordinate charts are \(C^{\infty}\)-morphisms and \(f\)
is a \(C^{\infty}\)-morphism by hypothesis. Therefore by
\cref{prop:composition-smooth-maps-is-smooth} we find that \(\psi f\) is a
\(C^{\infty}\)-morphism. The implication (c) \(\implies\) (b) is immediate.
\end{proof}

\begin{corollary}
\label{prop:smoothness-from-components-manifolds}
Let \(f: N \to M\) be a continuous map between manifolds of dimensions \(n\) and
\(m\), respectively. The following properties are equivalent:
\begin{enumerate}\setlength\itemsep{0em}
\item The map \(f: N \to M\) is a \(C^{\infty}\)-morphism.

\item The manifold \(M\) is endowed with an atlas such that, for all charts
  \((V, \psi)\), the projections \(\psi_j f: f^{-1}(V) \to \R\) of \(f\)
  relative to the chart, for \(1 \leq j \leq m\), are all
  \(C^{\infty}\)-morphisms.

\item For every chart \((V, \psi)\) of \(M\), the components of \(f\) with
  respect to the chart are smooth maps, that is, \(\psi_j f: f^{-1}(V) \to \R\)
  are \(C^{\infty}\)-morphisms.
\end{enumerate}
\end{corollary}

\begin{proof}
The proposition is consequence of \cref{prop:smoothness-from-components}
together with \cref{prop:smooth-morphisms-from-real-maps}.
\end{proof}

\subsection{The Category of Smooth Manifolds}

\begin{definition}[Category of \(C^{\infty}\)-manifolds]
\label{def:smooth-manifolds-category}
We define \(\Man\) to be the category of smooth manifolds and smooth morphisms
between them, these will be interchangeably called \(C^{\infty}\)-morphisms.
\end{definition}

\begin{corollary}
\label{cor:isomorphism-man}
An isomorphism in the category \(\Man\) is a bijective \(C^{\infty}\)-morphism
of manifolds with a smooth inverse. Some call these isomorphisms by
``diffeomorphisms'', we shall call them \(C^{\infty}\)-isomorphisms or smooth
isomorphisms.
\end{corollary}

\begin{lemma}
\label{lem:equiv-smooth-map-definition}
Let \((M, F_M)\) and \((N, F_N)\) be smooth manifolds. A map \(f: M \to N\) is
smooth in the sense of \cref{def:smooth-map-between-manifolds} if and only if
\(f\) is smooth in the sense of
\cref{def:morphism-functionally-structured-spaces}.
\end{lemma}

\begin{proof}
Assume that \(M\) and \(N\) are, respectively, \(m\) and \(n\)-dimensional
spaces. First we consider \(f\) as a morphism of functionally structured spaces.
Let \(p \in M\) be any point and consider charts, in the sense of isomorphisms
of functionally structured spaces:
\begin{itemize}\setlength\itemsep{0em}
\item \(\phi: U \isoto V\) in \(M\) --- where \(U\) is a neighbourhood of \(p\)
  and \(V \subseteq R^m\)

\item \(\psi: U' \isoto V'\) in \(N\) --- where \(U'\) is a neighbourhood of
  \(f(p)\) and \(V' \subseteq \R^n\).
\end{itemize}
Since \(\phi\) is an isomorphism, one can consider its inverse and use the
property that, for any open set \(S \subseteq V\) and map \(g \in F_M(S)\), then
\(g \phi^{-1} \in C^{\infty}(\phi(S))\). Since \(f\) is a morphism of functionally
structured spaces, in particular \(\pi_j \psi \in F_N(U')\) for all \(1 \leq j
\leq n\), then \(\pi_j \psi f \in F_M(f^{-1}(U'))\). Therefore, since \(p \in
U\) and \(f(p) \in U'\), the intersection \(f^{-1}(U') \cap U \subseteq M\) is
non-empty and we can conclude that
\[
\pi_j \psi f \phi^{-1} \in C^{\infty}(\phi(f^{-1}(U') \cap U)).
\]
Since this is the case for every \(1 \leq j \leq n\), it follows that
\(\psi f \phi^{-1}\) is \(C^{\infty}\) --- therefore \(f\) is smooth in the
sense of \cref{def:smooth-map-between-manifolds}.

For the converse, suppose \(f: M \to N\) is smooth as in
\cref{def:smooth-map-between-manifolds}. From the last property of the
functional structures on spaces, we can simply consider a chart \(\psi: U' \to
V'\) in \(N\) and define a functional structure on \(N\) as
\[
F_N(U') \coloneq \{g \phi \in C^{\infty}(U') \colon g \in C^{\infty}(V')\}.
\]
If \(h \in F_N(U')\) is any map, then the analogous structure \(F_M\) on \(M\)
has
\[
F_M(f^{-1}(U')) = \{w f \in C^{\infty}(f^{-1}(U')) \colon w \in C^{\infty}(U')\},
\]
therefore \(h f \in F_M(f^{-1}(U'))\) as wanted.
\end{proof}

\begin{definition}[Lie group]
\label{def:lie-group}
A \emph{Lie group} is a \emph{smooth manifold} \(G\) together with a
multiplicative structure \(G \times G \to G\) and an inverse map \(G \to G\),
both of which are \emph{\(C^{\infty}\)-morphisms}, making \(G\) into a
\emph{group}.
\end{definition}

\subsection{\texorpdfstring{\(C^{\infty}\)}{smooth}-Isomorphisms}

\begin{proposition}[Coordinate maps are \(C^{\infty}\)-isomorphisms]
\label{prop:coord-maps-Cinfty-iso}
Let \((U, \phi: U \to V)\) be a chart on an \(n\)-manifold \(M\), then \(\phi\)
is a \(C^\infty\)-isomorphism.
\end{proposition}

\begin{proof}
By the definition, the coordinate map \(\phi\) is a topological isomorphism, we
thus show that both \(\phi\) and \(\phi^{-1}\) are smooth maps. Lets endow \(U\)
with the natural structure of a manifold via the smooth atlas \(\{(U, \phi)\}\),
now for \(V\) we canonically endow it with the smooth atlas
\(\{(V, \Id_{V})\}\). For the smoothness of \(\phi\), it suffices to observe
that \(\Id_V \phi \phi^{-1} = \Id_V\) is certainly \(C^{\infty}\), therefore by
\cref{prop:equiv-conditions-for-smooth} we find that \(\phi\) is
smooth. Analogously, for the smoothness of \(\phi^{-1}: V \to U\), we know that
\(\phi \phi^{-1} \Id_V = \Id_V\), thus \(\phi^{-1}\) is smooth for the same
reason.
\end{proof}

\begin{proposition}[\(C^{\infty}\)-isomorphisms are charts]
\label{prop:smooth-iso-is-charts}
Let \(M\) be an \(n\)-manifold and \(U \subseteq M\) be any subset. If
\(f: U \to V\), where \(V \subseteq \R^n\), is a \(C^{\infty}\)-isomorphism, the
induced pair \((U, f)\) is a \emph{chart} in the smooth structure of \(M\).
\end{proposition}

\begin{proof}
Given any chart \((E, \phi)\) on \(M\) with non-empty \(E \cap U\), we have that
\(f \phi^{-1}\) and \(\phi f\) are compositions of smooth maps (by
\cref{prop:coord-maps-Cinfty-iso} and
\cref{prop:composition-smooth-maps-is-smooth}), therefore both are smooth
maps. This shows that \((U, f)\) is compatible with any intersecting chart of
\(M\), therefore by the maximality of the smooth atlas of \(M\) we find that
\((U, f)\) is a chart of \(M\).
\end{proof}

\subsection{Local Coordinates}

Let \(M\) be an smooth \(n\)-manifold and \(f: M \to \R\) be any real valued
map. If \(x: U \to V\) is a chart of \(M\), we consider the induced map
\(\overline{f} \coloneq f x^{-1}: V \to \R\), a multivariable real map from a
subset of \(\R^n\) to \(\R\). For any \(p \in U\), one has
\emph{``coordinates''} \(x(p) = (x_1(p), \dots, x_n(p))\). These coordinates can
be used to compute \(f\) via
\[
f(p) = \overline{f}(x_1(p), \dots, x_n(p)),
\]
working as some kind of local coordinates on the open set \(U\). This an
intuitive view of what the following definition states.

\begin{definition}[Local coordinates]
\label{def:local-coordinates}
If \(X\) is an \(\R^n\) modelled manifold, and \(\phi: U \to \R^n\) is a chart,
where \(U \subseteq X\) is open, then, we say that the collection
\((\phi_j)_{j=1}^n\) are \emph{local coordinates} for \(X\) on \(U\).
\end{definition}

\subsection{Partial Derivatives}

\begin{definition}[Partial derivative]
\label{def:partial-derivative-manifold}
Let \(M\) be an \(n\)-manifold, and \((U, \phi)\) be a chart of \(M\). Given a
\(C^{\infty}\)-morphism \(f: M \to \R\) we define, for all \(p \in U\), the
\emph{partial derivative} of \(f\) with respect to \(\phi_j\) at \(p\) to be
\[
\frac{\partial}{\partial \phi_j} \bigg|_p f
\coloneq \frac{\partial f}{\partial \phi_j}(p)
\coloneq \frac{\partial (f \phi^{-1})}{\partial \pi_j}(\phi(p))
\coloneq \frac{\partial}{\partial \pi_{j}} \bigg|_{\phi(p)} (f \phi^{-1}).
\]
where \(\phi_j\) is the \(j\)-th projection of \(\phi\), and
\(\pi_j: \R^n \epi \R\) is the \(j\)-th canonical projection, for
\(1 \leq j \leq n\). Since \(\phi\) is a bijective map, we have that
\[
\frac{\partial f}{\partial \phi_j} \circ \phi^{-1}
= \frac{\partial (f \phi^{-1})}{\partial \pi_j}:
\phi(U) \longrightarrow \R
\]
is a map of class \(C^{\infty}\) on \(\phi(U)\). Moreover, since its pullback is
\(C^{\infty}\), then \(\partial f/\partial \phi_j\) is a \(C^{\infty}\)-morphism on \(U\).
\end{definition}

\begin{proposition}
\label{prop:partial-derivative-distinct-projections}
Let \(M\) be an \(n\)-manifold and \((U, \phi)\) be a chart of \(M\). Then we
have that for all \(1 \leq i, j \leq n\), the projections of \(\phi\) satisfy
\[
\frac{\partial \phi_i}{\partial \phi_j} = \delta_{i j}.
\]
\end{proposition}

\begin{proof}
From the definition, one has
\[
\frac{\partial \phi_{i}}{\partial \phi_j} (p)
= \frac{\partial (\phi_{i} \phi^{-1})}{\partial \pi_j} (\phi(p))
= \frac{\partial ((\pi_i \phi) \circ \phi^{-1})}{\partial \pi_j} (\phi(p))
= \frac{\partial \pi_i}{\partial \pi_j} (\phi(p))
= \delta_{i j}
\]
for any \(p \in U\).
\end{proof}

\begin{definition}[Jacobian]
\label{def:}
Let \(f: N \to M\) be a \(C^{\infty}\)-morphism --- assume \(n\) and \(m\) are
the respective dimensions of \(N\) and \(M\) --- and consider a pair of charts
\((U, \phi)\) of \(N\) and \((V, \psi)\) of \(M\), for which
\(f(U) \subseteq V\). We define the \emph{\(i\)-th projection \(f\) in the chart
  \((V, \psi)\)} to be the map
\[
f_i \coloneq \psi_i f: U \longrightarrow \R,
\]
for all \(1 \leq i \leq m\).  We also define the \emph{Jacobian matrix of \(f\)
  in the chart \((V, \psi)\)} to be the \(m \times n\) matrix whose
\((i, j)\)-th component is \(\partial f_i/\partial \phi_j\) --- for
\(1 \leq i \leq m\) and \(1 \leq j \leq n\).

If it is the case that \(N\) and \(M\) have the same dimension, we define the
\emph{Jacobian of \(f\) in the chart \((V, \psi)\)} to be the determinant of its
respective Jacobian matrix.
\end{definition}

\section{Structures}

\begin{definition}[Induced structure]
\label{def:induced-functional-structure-space}
Let \((X, F_X)\) be a functionally structured space, and \(\phi: X \to Y\) be a
continuous map, where \(Y\) is a topological space. We define the \emph{induced
  functional structure} on \(Y\) via \(F_X\) and \(\phi\) to be given by
\[
F_Y(U) \coloneq \{f \in C(U) \colon f \phi \in F_X(\phi^{-1}(U))\},
\]
for any open set \(U \subseteq Y\).
\end{definition}

\begin{definition}[Induced structure on subspace]
\label{def:induced-func-struc-on-subspace}
Let \((X, F)\) be a functionally structured space, and \(A \subseteq X\) be a
subspace. We construct a functional structure \(F_A\) on \(A\) as follows: for
all open sets \(U \subseteq A\), a continuous map \(f: U \to \R\) is contained
in \(F_A(U)\) if and only if for every \(p \in U\) there exists a neighbourhood
\(W \subseteq X\) of \(p\) such that \(f\) is the restriction to \(W \cap A\) of
some map \(g \in F(W)\).
\end{definition}

\begin{definition}[Binary product of manifolds]
\label{def:product-manifold}
Let \(M\) and \(N\) be manifolds of dimension \(m\) and \(n\), respectively. If
\(\phi: U \to \R^m\) is a chart for \(M\) and \(\psi: V \to \R^n\) is a chart
for \(N\), we take \(\phi \times \psi: U \times V \to \R^{m + n}\) to be a chart
for the product space \(M \times N\). The maximal atlas consisting of such
product charts make \(M \times N\) into a product manifold of dimension
\(m + n\).
\end{definition}

\begin{definition}[Submanifold]
\label{def:submanifold}
Let \(M\) be an \(n\)-manifold. A subset \(N \subseteq M\) is said to be a
\emph{\(k\)-manifold} of \(M\) if for each \(p \in N\) there exists a chart
\(\phi: U \to V\) of \(M\) about \(p\) for which
\[
\phi(U \cap N) = V \cap (\R^k \times \{0\}).
\]
Charts with this property are called \emph{adapted} to \(N\). The maximal atlas
containing all adapted charts to \(N\) makes \(N\) into a manifold.

We define the \emph{codimension} of \(N\) \emph{in} \(M\) to be the difference
\(n - k\). The submanifold \(N\) is said to be \emph{smooth} exactly when about
each point there exists an adapted smooth chart to \(N\) --- so that one can
find a unique maximal smooth atlas for \(N\).
\end{definition}

\begin{definition}[Smooth embedding]
\label{def:smooth-embedding}
A \(C^{\infty}\)-morphism \(f: N \to M\) is said to be a \emph{smooth embedding}
if the image \(f(N) \subseteq M\) is a \emph{smooth submanifold} of \(M\) and
the induced restriction \(f: N \isoto f(N)\) is a \(C^{\infty}\)-isomorphism.
\end{definition}

\begin{example}[Sphere]
\label{exp:sphere-smooth-manifold}
Consider the sphere \(S^n \subseteq \R^{n+1}\), we'll define a smooth atlas on
\(S^n\) using solely two charts. To that end, define two points
\(n \coloneq (0, \dots, 0, 1)\) and \(s \coloneq (0, \dots, 0, -1)\) in
\(\R^{n+1}\) --- these correspond to the north and south poles of \(S^n\),
respectively. Consider the \emph{stereographic projection}
\(\phi_n: S^n \setminus \{n\} \to \R^n\), from the sphere with its north pole
cut out to the hyperplane \(R^n \iso \R^n \times \{0\}\) --- the stereographic
projection maps each point \(x \in S^n\) to the intersection of the line passing
through \(x\) and \(n\), and the hyperplane above-mentioned. The inverse map of
\(\phi_n\) is \(\pi_n: \R^n \to S^n \setminus \{n\}\), mapping
\[
x \longmapsto \frac{(2 x, \| x \|^2 - 1)}{(1 + \| x \|)^2}.
\]
We define the south stereographic projection \(\phi_s: S^n \setminus \{s\} \to
\R^n\) equivalently. This construction has a smooth transition map
\[
\phi_s \phi_n^{-1}(x) = \frac{y}{\| y \|^2}.
\]
\end{example}


\section{Partitions of Unity}

\begin{definition}[Adequate atlas]
\label{def:adequate-atlas}
Given an \(m\)-manifold \(M\), we say that an atlas
\((U_j, \phi_j)_{j \in J}\) is \emph{adequate} if it is \emph{locally
  finite}, and for all we have either \(\phi_j(U_j) = \R^m\) or
\(\phi_j(U_j) = \Uhs^m\), and
\[
\bigcup_{j \in J} \phi_j^{-1}(\Int D^m) = M.
\]
\end{definition}

Since every topological manifold is paracompact, by
\cref{cor:manifold-paracompact} we obtain the following corollary.

\begin{corollary}
\label{cor:refinement-adequate-atlas}
Let \(\mathcal{U}\) be a covering of \(M\). There exists an \emph{adequate
  atlas} \((U_j, \phi_j)_{j \in J}\) such that \((U_j)_{j \in J}\) is
a \emph{refinement} of \(\mathcal{U}\).
\end{corollary}

\begin{definition}[Bump functions \& partition of unity]
\label{def:}
Let \(M\) be an \(m\)-manifold and \((U_{j}, \phi_j)_{j \in J}\) be an
\emph{adequate} atlas on \(M\). Let \(\lambda: \R^m \to \R\) be a \emph{smooth
  non-negative} map such that \(\lambda|_{D^m} \coloneq 1\) and
\(\lambda|_{\R^m \setminus D^m(2)} \coloneq 0\).
\begin{itemize}\setlength\itemsep{0em}
\item Define, for every \(j \in J\), maps \(\lambda_j: M \to \R\) where
  \[
  \lambda_j|_{U_j} \coloneq \lambda \phi_j
  \quad\text{ and }\quad
  \lambda_j|_{M \setminus U_j} \coloneq 0.
  \]
  We name the collection \((\lambda_j)_{j \in J}\) the \emph{bump functions}
  associated to \((U_j)_{j \in J}\).
\item Define, for each \(j \in J\), maps \(\mu_j: M \to \R\) given by
  \[
  \mu_j(p) \coloneq \frac{\lambda_j(p)}{\sum_{i \in J} \lambda_i(p)}
  \]
  for all \(p \in M\). The collection \((\mu_j)_{j \in J}\) is said to be the
  \emph{partition of unity} associated to the atlas \((U_j, \phi_j)_{j \in J}\).
\end{itemize}
\end{definition}

\section{Tangent Space}

\subsection{Algebra of Germs}

Define an equivalence relation \(\sim_p\) on the set of real-valued
\(C^{\infty}\)-morphisms in \(M\), where \(p \in M\) is any point, as follows:
given neighbourhoods \(U\) and \(V\) of \(p\), and \(C^{\infty}\)-morphisms
\(f: U \to \R\) and \(g: V \to \R\), we say that \(f \sim_p g\) if and only if
there exists a neighbourhood \(Q \subseteq U \cap V\) of \(p\) such that
\(f|_Q = g|_Q\).

\begin{definition}[Algebra of germs in a manifold]
\label{def:algebra-of-germs-manifold}
Given a manifold \(M\) and a point \(p \in M\), we define the \emph{germs of
  real-valued \(C^{\infty}\)-morphisms at \(p\) in \(M\)}, to be the natural
\(\R\)-algebra on the following quotient:
\[
C_p^{\infty}(M) \coloneq
\{f \in \Hom_{\Man}(U, \R) \colon p \in U \subseteq M\}/{\sim_p}.
\]

A \emph{point-derivation} of \(C_p^{\infty}(M)\) is an \emph{\(\R\)-linear map}
\(\diff: C_p^{\infty}(M) \to \R\) such that
\[
\diff(f g) = (\diff f) g(p) + f(p) (\diff g).
\]
\end{definition}

\begin{definition}[Tangent vector \& tangent space]
\label{def:tangent-vector-at-point-manifold}
Let \(M\) be a manifold and \(p \in M\) be any point. A \emph{tangent vector} at
\(p\) is a \emph{point-derivation} on \(C_p^{\infty}(M)\). The collection of
tangent vectors at \(p\), denoted by \(T_p M\), together with a natural action
\(\R \times T_p M \to T_p M\), forms the \(\R\)-vector space called
\emph{tangent space of \(M\) at \(p\)}.
\end{definition}

\subsection{Differential of a Smooth Morphism}

\begin{definition}[Differential at a point]
\label{def:differential-at-a-point}
Let \(f: N \to M\) be a \(C^{\infty}\)-morphism. At every point \(p \in N\), the
morphism \(f\) induces a pushforward
\[
f_{*}: T_p N \longrightarrow T_{f(p)} M,
\]
called \emph{differential of \(f\) at \(p\)}, which is an \(\R\)-linear map
between tangent spaces. For any tangent vector \(X_p: C_p^{\infty}(N) \to \R\) of
\(T_p N\), we define the respective tangent vector
\(f_{*}(X_p): C_{f(p)}^{\infty}(M) \to \R\) of \(T_{f(p)} M\) as the
\(\R\)-linear map given by
\[
(f_{*}(X_p))(g) \coloneq X_p(g f) \in \R,
\]
for all \(g \in C_{f(p)}^{\infty}(M)\).
\end{definition}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../../deep-dive"
%%% End:
